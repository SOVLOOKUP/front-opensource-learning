# ç¯å¢ƒå‡†å¤‡ä¸é¡¹ç›®åˆå§‹åŒ–

> æ–‡ç« ç¼–å†™äººï¼šå¤å‡¡
>
> github åœ°å€ï¼š[sovlookup](https://github.com/sovlookup)

ç†Ÿæ‚‰å®Œæ•´çš„å‰ç«¯å¼€å‘æµç¨‹

## æˆ‘åœ¨å‡†å¤‡çš„æ˜¯ä»€ä¹ˆç¯å¢ƒï¼Ÿ

å¦‚æœæŠŠæˆ‘ä»¬åˆ¶ä½œå›¾å¯è§†åˆ†æwebappçš„éœ€æ±‚æ¯”ä½œç‚¼å‡ºä¸€é¢—é‡‘ä¸¹ï¼Œé‚£ä¹ˆï¼š

- ç‚¼ä¸¹çš„æŸ´ç«ï¼šå‰ç½®è¯¾ç¨‹ä¸­ä½ åº”è¯¥å·²ç»å­¦ä¹ äº†JavaScriptç­‰åŸºç¡€çŸ¥è¯†ï¼Œè¿™æ˜¯æˆ‘ä»¬çš„ â€œç‚¼ä¸¹â€œ çš„ææ–™ï¼Œå‰ç«¯å¤§åŠå£æ±Ÿå±±éƒ½ä¾é åºå¤§çš„jsç”Ÿæ€ã€‚
- ä¸¹ç‚‰çš„åº•åº§ï¼šè¿™æ˜¯æˆ‘ä»¬è¿™é‡Œåœ¨å‡†å¤‡çš„ç¯å¢ƒï¼ŒNode.jsæ˜¯ä¸€ä¸ªJavaScriptè¿è¡Œæ—¶ï¼Œä½ éœ€è¦è¿™ä¸ª â€œç‚‰å­â€ æ¥ç‚¼å‡ºä½ çš„ â€œé‡‘ä¸¹â€ ã€‚
- çƒ§ç‚‰çš„ç«é’³ï¼šnrmã€yarnã€npméƒ½æ˜¯ä¸€äº›å°å·¥å…·ï¼Œå®ƒä»¬æ˜¯ä½  â€œç‚¼ä¸¹â€ çš„è·¯ä¸Šä¸å¯æˆ–ç¼ºçš„å¸®æ‰‹ã€‚
- ç‚¼ä¸¹ç‚‰ï¼šUmiæ˜¯ä¸€ä¸ªReactå¼€å‘æ¡†æ¶ï¼Œæœ¬è´¨ä¸Šæˆ‘ä»¬è¿˜æ˜¯åœ¨å†™Reactï¼Œç”¨Umiè„šæ‰‹æ¶æ¯”èµ·ç›´æ¥ç”¨Reactå¯ä»¥å¸®æˆ‘ä»¬è§£å†³å¾ˆå¤šæ“å¿ƒäº‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±é€‰æ¬¾ â€ç‚‰å­â€œ å§ï½

> å‰ç«¯çš„ç”Ÿæ€æ˜¯å¦‚æ­¤åºå¤§ï¼Œæ‰€æœ‰å·¥å…·çš„åˆ›æ–°æ–¹æ¡ˆéƒ½å±‚å‡ºä¸ç©·ï¼ŒæœŸå¾…å’Œä½ åœ¨æ¥ä¸‹æ¥çš„è¯¾ç¨‹ä¸­ä¸€èµ·æ¢ç´¢ï½

## âœ¨â€è®¾å›èµ·ç‚‰â€œâ€”â€”ç¯å¢ƒå‡†å¤‡

- [ ] **å®‰è£… â€ä¸¹ç‚‰åº•åº§â€œ node.js**

ä» https://nodejs.org/zh-cn/ ä¸‹è½½å®‰è£…**é•¿æœŸæ”¯æŒç‰ˆ**å³å¯

![image-20210425162901638](./img/node.png)



- [ ] **å®‰è£…yarn**

  ```bash
  npm install -g cnpm --registry=https://registry.npm.taobao.org
  cnpm install -g yarn
  ```

- [ ] **å®‰è£…nrmå¹¶ä¸”åˆ‡æ¢æº**

  åƒpythonä¸€æ ·ï¼Œå› ä¸ºä¸­å›½ç‰¹æ®Šçš„ç½‘ç»œåŸå› ï¼Œéœ€è¦é…ç½®æ·˜å®æºã€‚
  
  ```
  yarn global add nrm
  nrm use taobao
  ```

## ğŸ”¥â€èµ·ç«ç‚¼ä¸¹â€œâ€”â€”é¡¹ç›®åˆå§‹åŒ–

- [ ] **å»ºä¸€ä¸ªç©ºç›®å½•å¹¶è¿›å…¥ç›®å½•**

  è¿™å°±æ˜¯ä½ çš„é¡¹ç›®ç›®å½•

```bash
$ mkdir myapp && cd myapp
```

- [ ] **åˆ›å»ºé¡¹ç›®è„šæ‰‹æ¶**

```bash
$ yarn create @umijs/umi-app
# æˆ– npx @umijs/create-umi-app

Copy:  .editorconfig
Write: .gitignore
Copy:  .prettierignore
Copy:  .prettierrc
Write: .umirc.ts
Copy:  mock/.gitkeep
Write: package.json
Copy:  README.md
Copy:  src/pages/index.less
Copy:  src/pages/index.tsx
Copy:  tsconfig.json
Copy:  typings.d.ts
```

- [ ] **é¡¹ç›®åˆå§‹åŒ–ä¾èµ–**

  å®‰è£…ä¾èµ–åŒ…

```bash
$ yarn

yarn install v1.21.1
[1/4] ğŸ”  Resolving packages...
success Already up-to-date.
âœ¨  Done in 0.71s.
```

- [ ] **æ·»åŠ Graphinä¾èµ–**

```bash
yarn add @antv/graphin@latest --save
yarn add @antv/graphin-components@latest --save
yarn add @antv/graphin-icons --save
```

- [ ] **å¯åŠ¨é¡¹ç›®**

  è‡ªå¸¦çƒ­é‡å¯ç­‰å®ç”¨å¼€å‘åŠŸèƒ½ï¼Œä¿®æ”¹ä»£ç åæµè§ˆå™¨ä¸­å°±ä¼šåŠ¨æ€å˜åŒ–

```bash
$ yarn start

Starting the development server...

âœ” Webpack
  Compiled successfully in 17.84s

 DONE  Compiled successfully in 17842ms                                       8:06:31 PM


  App running at:
  - Local:   http://localhost:8000 (copied to clipboard)
  - Network: http://192.168.12.34:8000
```

![image-20210425164059980](./img/init.png)

- [ ] **æŸ¥çœ‹ä½ çš„é¡¹ç›®ç›®å½•ç»“æ„**

   æˆ‘ä»¬æœ¬è¯¾ç¨‹å†…å®¹åªéœ€è¦ä¿®æ”¹`src`ç›®å½•ä¸‹çš„`pages`ä¸­çš„æ–‡ä»¶ï¼Œå…¶ä»–å†…å®¹ä»¥åæœ‰æœºä¼šä»‹ç»ï¼Œæˆ‘ä»¬çš„é¡¹ç›®ç›®å½•ç»“æ„å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š
  
  ```
  .
  â”œâ”€â”€ package.json
  â”œâ”€â”€ .umirc.ts
  â”œâ”€â”€ .env
  â”œâ”€â”€ dist
  â”œâ”€â”€ mock
  â””â”€â”€ src
      â”œâ”€â”€ .umi
      â”œâ”€â”€ pages
          â”œâ”€â”€ index.less
          â””â”€â”€ index.tsx
  ```
  
  - æ ¹ç›®å½•
  
    - **package.json**
  
      é¡¹ç›®ä¾èµ–ã€é¡¹ç›®åç§°ç­‰åŸºæœ¬ä¿¡æ¯
  
    - **.umirc.ts**
  
      ç”±umiæä¾›çš„é¡¹ç›®ç»Ÿä¸€é…ç½®æ–‡ä»¶
  
  - dist ç›®å½•
  
    æ‰§è¡Œ `umi build` åï¼Œç¼–è¯‘åå¾…å‘å¸ƒçš„äº§å“é»˜è®¤ä¼šå­˜æ”¾åœ¨è¿™é‡Œã€‚
  
  - `/src` ç›®å½•
  
    - pages ç›®å½•
  
      æ‰€æœ‰è·¯ç”±ç»„ä»¶å­˜æ”¾åœ¨è¿™é‡Œã€‚

## ğŸ‰â€ç‚¼åŒ–é‡‘ä¸¹â€œâ€”â€”**éƒ¨ç½²å‘å¸ƒ**
æ‰“åŒ…æˆå¯ä»¥ç¦»çº¿è¿è¡Œçš„å‘è¡Œæ–‡ä»¶

```bash
$ yarn build

âœ” Webpack
  Compiled successfully in 17.17s

 DONE  Compiled successfully in 17167ms                                       8:26:25 PM

Build success.
âœ¨  Done in 20.79s.
```

æ–‡ä»¶å‘å¸ƒåœ¨`dist`ç›®å½•ä¸‹ï¼Œè¿™é‡Œå°±å¯ä»¥æä¾›ç»™é™æ€æœåŠ¡å™¨ä½¿ç”¨å•¦ï½



OK åˆ°è¿™é‡Œä½ å·²ç»æŠŠ â€œè¯â€ æˆåŠŸç‚¼åˆ¶æˆäº† â€ä¸¹â€œ åº†ç¥ä¸€ä¸‹å§ï¼ğŸ™ŒğŸ»

ä¸‹é¢æˆ‘ä»¬å°±è¦ç²¾ç‚¼ â€ä¸¹è¡£â€œ ä¸‹çš„ â€ä¸¹è¯â€œ â€”â€”å…·ä½“çš„ä»£ç å•¦ï½

---
1. UmiJSæ–‡æ¡£ğŸ“„: https://umijs.org/zh-CN/docs/
2. Graphinæ–‡æ¡£ğŸ“„: https://graphin.antv.vision/graphin/quick-start/introduction
3. ç›®å½•ç»“æ„ä»‹ç»åœ°å€: https://umijs.org/zh-CN/docs/directory-structure